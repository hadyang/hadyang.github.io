---
title: Raft 选举过程
date: 2020-05-25
draft: true
categories: 
    - 深入理解ETCD
---

## Raft 简介

[Raft](https://raft.github.io/) 协议作为共识算法的一种，共识算法（Consensus Algorithm）是在分布式环境中，多个节点对同一数据达成一致，为不可靠的网络环境、不可靠的节点，提供可靠性保证。



常见的共识算法还有 Paxos、ZAB。其中，ZAB 和 Raft 协议类似，属于 **共识** + **原子广播（全序广播）** 的形式。而 Paxos 协议则是对所有数据进行共识，在一定程度上导致 Paxos 算法的复杂性。 Paxos 的具体算法逻辑参考[维基百科--Paxos算法](https://zh.wikipedia.org/wiki/Paxos%E7%AE%97%E6%B3%95)。

在共识算法中，经常会提到一个 **拜占庭将军问题**。在拜占庭将军问题中，分布式系统中的节点会发出错误的消息，即存在 **欺骗**，这种欺骗可能是由于程序Bug、数据损坏等等。拜占庭将军问题中，节点是不可信的，上述的三种共识算法均不能解决拜占庭将军问题。之前热度很高的区块链技术，通过 **工作量证明算法**（PoW）来实现了拜占庭容错（解决拜占庭将军问题）。

Raft 协议分为三部分：选举、数据复制、安全性保证

## Raft 选举

这篇文章将会介绍 Raft 协议的选举过程，

## 节点状态

## 选举超时

## 心跳

### 心跳超时